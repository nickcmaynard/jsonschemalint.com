webpackJsonp([3],{137:function(e,t,a){"use strict";t.draft4=a(354),t.draft6=a(355),t.draft7=a(138)},138:function(e,t){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},140:function(e,t,a){"use strict";a(141),a(94),a(131).module("app",[a(132),a(133),a(134),a(135),a(136)]).config(["$routeProvider","$translateProvider",function(e,t){t.useSanitizeValueStrategy("sanitize"),t.translations("en",a(348)),t.useStaticFilesLoader({prefix:"translations/locale-",suffix:".json"}),t.preferredLanguage("en"),e.when("/version/draft-05/markup/:markupLanguage",{redirectTo:function(e){return"/version/v5-unofficial/markup/"+e.markupLanguage}}),e.when("/version/:specVersion/markup/:markupLanguage",{template:"<validator-view></validator-view>"}),e.otherwise({redirectTo:"/version/draft-07/markup/json"})}]).run(["$rootScope","$location","$window","$log",function(e,t,a,n){e.$on("$routeChangeSuccess",function(){n.info("Hash change, informing GA",t.path()),a.ga("send","pageview",t.path())})}]),a(349),a(359)},141:function(e,t){},348:function(e,t){e.exports={FORMAT:"Format",SAMPLES:"Samples",RESET:"Reset",SAVE_AS_GIST:"Save as Gist",MARKUP_LANGUAGE:"Markup language",OFFICIAL_SPEC_VERSION:"Official spec version",UNOFFICIAL_SPEC_VERSION:"Unofficial spec version",SCHEMA:"Schema",DOCUMENT:"Document",MESSAGE:"Message",FIELD:"Field",ERROR:"Error",VALUE:"Value",TOGGLE_NAVIGATION:"Toggle navigation",ABOUT:"About",OK:"OK",GIST_SAVED:"Saved as Gist",GIST_VISIT:"Visit saved schema/document pair",sample_titles:{"draft-04-valid":"Sample draft-04 schema and valid document","draft-04-invalid":"Sample draft-04 schema and <strong>invalid</strong> document","draft-06-valid":"Sample draft-06 schema and valid document","draft-06-invalid":"Sample draft-06 schema and <strong>invalid</strong> document","v5-unofficial-valid":"Sample v5-unofficial schema and valid document","v5-unofficial-invalid":"Sample v5-unofficial schema and <strong>invalid</strong> document","experimental-valid":"Sample experimental schema and valid document","experimental-invalid":"Sample experimental schema and <strong>invalid</strong> document"},WARNING_V5_UNOFFICIAL:'<strong>RETIRED</strong> schema version.  Please use the latest official version instead.<br /><br />This schema version, v5-unofficial, was a prototype for a draft version that was eventually scrapped. Previously, JSON Schema Lint offered this prototype as "draft-05", as it was originally meant to supersede draft-04.<br />This was not, and will never be, an official JSON Schema version.',WARNING_EXPERIMENTAL:"<strong>RETIRED</strong> schema version.  Please use the latest official version instead.<br /><br />This was an experimental meta-schema used for testing new features.",SCHEMA_VALID_MESSAGE:"Schema is valid according to {{name}}.",DOCUMENT_VALID_MESSAGE:"Document validates against the schema, spec version {{name}}.",ERROR_GIST_SAVING:"Error saving Gist",ERROR_GIST_LOADING:"Error loading Gist",ERROR_GIST_FORMAT:"Gist is not in JSON Schema Lint format",ERROR_SAMPLE_LOADING:"Error loading sample",ERROR_INVALID_JSON:"Document is invalid JSON. Try <a target='_blank' href='https://jsonlint.com'>JSONLint</a> to fix it.",ERROR_INVALID_YAML:"Document is invalid YAML. Try <a target='_blank' href='https://codebeautify.org/yaml-validator'>YAML Validator</a> to fix it.",ERROR_INVALID_MARKUP:"Invalid markup language '{{markupLanguage}}'.",ERROR_INVALID_VERSION:"Invalid schema version '{{specVersion}}'.",ERROR_INVALID_SCHEMA:"Invalid schema.",ERROR_INVALID_MARKUP_BUTTON:"???",ERROR_INVALID_VERSION_BUTTON:"???",ERROR_MODULE_LOADING_FAILED_TITLE:"Could not load module",ERROR_MODULE_LOADING_FAILED_CONTENT:"We couldn't load a vital part of the application.  This is probably due to network conditions.  We recommend reloading the page once conditions improve."}},349:function(e,t,a){"use strict";a(350),a(351),a(352),a(353),a(137),a(356),a(357),a(358)},350:function(e,t,a){"use strict";angular.module("app",!1).service("alertService",["$q","$uibModal",function(e,t){this.alert=function(a){return a?t.open({animation:!1,template:'<div class="modal-header"><h3 class="modal-title" id="modal-title">'+a.title+'</h3></div><div class="modal-body" id="modal-body">'+a.message+'</div><div class="modal-footer"><button class="btn '+(a.btnClass||"btn-primary")+'" type="button" ng-click="$close()">{{ \'OK\' | translate }}</button></div>',ariaLabelledBy:"modal-title-top",ariaDescribedBy:"modal-body",controller:function(){},size:a.size||"sm"}).result:e.reject("params required")}}])},351:function(e,t,a){"use strict";var n=angular.module("app",!1),r="https://api.github.com/gists";n.service("gist",["$q","$http","$log","$translate",function(e,t,a,n){this.save=function(e,n){return t({method:"POST",url:r,data:{description:"jsonschemalint.com "+(new Date).toISOString(),public:!1,files:{schema:{content:e},document:{content:n}}}}).then(function(e){return a.info("Saved gist successfully with ID",e.data.id),e.data.id},function(e){throw a.error("Could not save gist",e),e.statusText})},this.retrieve=function(i){return t({method:"GET",url:r+"/"+i}).then(function(t){return t&&t.data&&t.data.files&&t.data.files.schema&&t.data.files.document?{schema:t.data.files.schema.content,document:t.data.files.document.content}:n("ERROR_GIST_FORMAT").then(function(t){return e.reject(t)})},function(e){throw a.error("Could not retrieve gist",e),e.statusText})}}])},352:function(e,t,a){"use strict";angular.module("app",!1).service("markupJson",["$q",function(e){this.parse=function(t){return e(function(e,a){try{e(JSON.parse(t))}catch(e){a([{message_tid:"ERROR_INVALID_JSON"}])}})},this.prettyPrint=function(t){return e.when(JSON.stringify(t,null,"  "))}}])},353:function(e,t,a){"use strict";angular.module("app",!1).service("markupYaml",["$window","$q","alertService","$log",function(e,t,n,r){var i,s,o=function(){return s||(s=t(function(e,t){try{a.e(1).then(function(t){i=a(370),r.debug("MarkupYAML.setup()","Loaded yamljs"),e(!0)}.bind(null,a)).catch(a.oe)}catch(e){r.error("MarkupYAML.setup()","Could not load yamljs",e),n.alert({title:'{{ "ERROR_MODULE_LOADING_FAILED_TITLE" | translate }}',message:'{{ "ERROR_MODULE_LOADING_FAILED_CONTENT" | translate }}'}),t(e)}}))};this.parse=function(e){return o().then(function(){try{return i.parse(e)}catch(e){throw[{message_tid:"ERROR_INVALID_YAML"}]}})},this.prettyPrint=function(e){return o().then(function(){return i.stringify(e,4,2)})}}])},354:function(e,t){e.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string"},$schema:{type:"string"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}},355:function(e,t){e.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"http://json-schema.org/draft-06/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},title:{type:"string"},description:{type:"string"},default:{},examples:{type:"array",items:{}},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:{},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:{}}},356:function(e,t,a){"use strict";angular.module("app",!1).service("textService",["$q","$window","$log",function(e,t,a){var n=this;this._schemaString,this._documentString,this.getSchema=function(){return n._schemaString},this.setSchema=function(e){e!==n._schemaString&&t.ga("send",{hitType:"event",eventCategory:"Content",eventAction:"Schema-Change"}),n._schemaString=e},this.getDocument=function(){return n._documentString},this.setDocument=function(e){e!==n._documentString&&t.ga("send",{hitType:"event",eventCategory:"Content",eventAction:"Document-Change"}),n._documentString=e},this.reset=function(){t.ga("send",{hitType:"event",eventCategory:"Content",eventAction:"Reset"}),delete n._schemaString,delete n._documentString,r.removeItem("data"),r.removeItem("schema")};var r=t.localStorage;r.getItem("data")&&(a.info("Loading document from local storage"),n._documentString=r.getItem("data")),r.getItem("schema")&&(a.info("Loading schema from local storage"),n._schemaString=r.getItem("schema")),t.addEventListener("beforeunload",function(){n._documentString?r.setItem("data",n._documentString):r.removeItem("data"),n._schemaString?r.setItem("schema",n._schemaString):r.removeItem("schema")})}])},357:function(e,t,a){"use strict";angular.module("app",!1).factory("validatorFactoryAJV",["$window","$q","alertService","$log",function(e,t,n,r){var i=function(e){var i,s,o=function(){return s||(s=t(function(t,s){try{a.e(0).then(function(n){var s=a(371),o=a(137);r.debug("ValidatorFactoryAJV.setup()","Loaded AJV"),i=s({verbose:!0,allErrors:!0,meta:!1,unknownFormats:"draft-04"===e?"ignore":void 0,extendRefs:"draft-04"===e||void 0,schemaId:"draft-04"===e?"id":void 0}),"draft-04"===e?(i.addMetaSchema(o.draft4),i._opts.defaultMeta=o.draft4.id,i._refs["http://json-schema.org/schema"]="http://json-schema.org/draft-04/schema",i.removeKeyword("propertyNames"),i.removeKeyword("contains"),i.removeKeyword("const")):"draft-06"===e?(i.addMetaSchema(o.draft6),i._opts.defaultMeta=o.draft6.$id):"draft-07"===e&&(i.addMetaSchema(o.draft7),i._opts.defaultMeta=o.draft7.$id),t(!0)}.bind(null,a)).catch(a.oe)}catch(e){r.error("ValidatorFactoryAJV.setup()","Could not load AJV",e),n.alert({title:'{{ "ERROR_MODULE_LOADING_FAILED_TITLE" | translate }}',message:'{{ "ERROR_MODULE_LOADING_FAILED_CONTENT" | translate }}'}),s(e)}}))};this.validateSchema=function(e){return r.debug("ValidatorFactoryAJV.validateSchema()"),o().then(function(){if(i.validateSchema(e))return r.debug("ValidatorFactoryAJV.validateSchema()",i.errorsText(i.errors)),!0;throw r.debug("ValidatorFactoryAJV.validateSchema()",i.errorsText(i.errors)),i.errors})},this.validate=function(e,t){return r.debug("ValidatorFactoryAJV.validate()"),o().then(function(){var a;try{a=i.validate(e,t)}catch(e){throw r.error("ValidatorFactoryAJV.validate()",e.message),[{message:e.message}]}if(a)return r.debug("ValidatorFactoryAJV.validate()","success"),!0;throw r.error("ValidatorFactoryAJV.validate()",i.errorsText(i.errors)),i.errors})}};return function(e){return new i(e)}}])},358:function(e,t,a){"use strict";angular.module("app",!1).factory("validatorFactoryJSV",["$window","$q","alertService","$log",function(e,t,n,r){var i=function(e){var i,s,o,l=function(){return o||(o=t(function(t,o){try{a.e(2).then(function(n){var o=a(369);r.debug("ValidatorFactoryJSV.setup()","Loaded JSV");var l=o.JSV;i=l.createEnvironment("json-schema-"+e),s=i.getDefaultSchema(),t(!0)}.bind(null,a)).catch(a.oe)}catch(e){r.error("ValidatorFactoryJSV.setup()","Could not load JSV",e),n.alert({title:'{{ "ERROR_MODULE_LOADING_FAILED_TITLE" | translate }}',message:'{{ "ERROR_MODULE_LOADING_FAILED_CONTENT" | translate }}'}),o(e)}}))},d=function(e){return{dataPath:e.uri.substring(e.uri.indexOf("#")+1),message:e.message,data:e.details.length?e.details[0]:""}};this.validateSchema=function(e){return r.debug("ValidatorFactoryJSV.validateSchema()"),l().then(angular.bind(this,function(){var t=i.validate(e,s);if(t.errors&&t.errors.length)throw r.debug("ValidatorFactoryJSV.validateSchema()","failure",t.errors),t.errors.map(d);return r.debug("ValidatorFactoryJSV.validateSchema()","success"),!0}))},this.validate=function(e,t){return r.debug("ValidatorFactoryJSV.validate()"),l().then(angular.bind(this,function(){var a=i.validate(t,e);if(a.errors&&a.errors.length)throw r.debug("ValidatorFactoryJSV.validate()","failure",a.errors),a.errors.map(d);return r.debug("ValidatorFactoryJSV.validate()","success"),!0}))}};return function(e){return new i(e)}}])},359:function(e,t,a){"use strict";a(360),a(362),a(364)},360:function(e,t,a){"use strict";function n(){this.errorMessages=function(e){return e&&e.filter(function(e){return void 0!==e.dataPath})},this.simpleMessages=function(e){return e&&e.filter(function(e){return void 0===e.dataPath})}}var r=a(361);angular.module("app").component("validationMessages",{templateUrl:r,controller:n,bindings:{messages:"="}})},361:function(e,t){var a="components/validation-messages.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(a,'<table class="table validation-messages-table table-striped" ng-if="$ctrl.messages.length" ng-class="{ \'validation-messages-table--simple\': $ctrl.simpleMessages($ctrl.messages).length, \'validation-messages-table--error\': $ctrl.errorMessages($ctrl.messages).length }">\n    <thead>\n        <tr ng-if="$ctrl.simpleMessages($ctrl.messages).length">\n            <th>{{ \'MESSAGE\' | translate }}</th>\n        </tr>\n        <tr ng-if="$ctrl.errorMessages($ctrl.messages).length">\n            <th>{{ \'FIELD\' | translate }}</th>\n            <th>{{ \'ERROR\' | translate }}</th>\n            <th>{{ \'VALUE\' | translate }}</th>\n        </tr>\n    </thead>\n\n    <tbody>\n        <tr ng-repeat="message in $ctrl.simpleMessages($ctrl.messages)">\n            <td ng-if="message.message" ng-bind="message.message"></td>\n            <td ng-if="message.message_tid" ng-bind-html="message.message_tid | translate:message.message_params"></td>\n        </tr>\n        <tr ng-repeat="message in $ctrl.errorMessages($ctrl.messages)">\n            <td ng-bind="message.dataPath" class="error-path"></td>\n            <td ng-bind="message.message"></td>\n            <td>\n                <pre class="error-value" ng-bind="message.data | json"></pre>\n            </td>\n        </tr>\n    </tbody>\n\n</table>\n')}]),e.exports=a},362:function(e,t,a){"use strict";function n(e,t,a,n,r,i){var s=this;this.$onInit=function(){this.myDoc=this.doc},this.$onChanges=function(e){var t=!1;Object.prototype.hasOwnProperty.call(e,"doc")&&e.doc.currentValue!==this.myDoc&&(this.myDoc=e.doc.currentValue,t=!0),(Object.prototype.hasOwnProperty.call(e,"validate")||Object.prototype.hasOwnProperty.call(e,"parse"))&&(t=!0),t&&this.update(this.myDoc)};var o=void 0;this.update=function(e){if(n.debug(this.identifier+".update()"),o!==e&&this.onUpdateDoc({value:e}),o=e,!this.validate||!this.parse)return this.messages=[{message:"Invalid setup, validator is "+this.validate},{message:"Invalid setup, parse is "+this.parse}];n.debug(s.identifier+".update()","Begining work"),this.working=!0;var t=this.parse(e);t.then(function(e){n.debug(s.identifier+".update()","Successful parsing",e)},function(e){n.debug(s.identifier+".update()","Errors parsing",e)});var a=t.then(angular.bind(this,this.validate));a.then(function(e){n.debug(s.identifier+".update()","Successful validating",e)},function(e){n.debug(s.identifier+".update()","Errors validating",e)}),r.all([t,a]).then(function(e){n.debug(s.identifier+".update()","Successful parsing and validation",e);var t=e[0];return s.onUpdateObj({value:t}),s.isValid=!0,s.messages=[{message:s.successMessage}]},function(e){return n.debug(s.identifier+".update()","Errors parsing/validating document",e),s.onUpdateObj({value:null}),s.isValid=!1,s.messages=[].concat(e)}).finally(function(){n.debug(s.identifier+".update()","Done working"),s.working=!1})},this.format=function(e){n.debug(this.identifier+".format()");var t=this.parse(e).then(angular.bind(this,this.prettyPrint));t.then(function(e){s.myDoc=e,s.update(s.myDoc)}),t.then(function(){i.ga("send",{hitType:"event",eventCategory:"Content",eventAction:"Format",eventLabel:s.identifier})},function(e){i.ga("send","exception",{exDescription:"content-format-error :: "+e.message})})}}n.$inject=["$scope","$element","$attrs","$log","$q","$window"];var r=a(363);angular.module("app").component("validator",{templateUrl:r,controller:n,bindings:{identifier:"@",title:"@",doc:"<",validate:"<",parse:"<",prettyPrint:"<",successMessage:"<",onUpdateDoc:"&",onUpdateObj:"&"}})},363:function(e,t){var a="components/validator.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(a,'<div class="panel panel-default panel-collapse" ng-class="{\'panel-danger\': !$ctrl.isValid, \'panel-success\': $ctrl.isValid}">\n    <div class="panel-heading">\n        {{$ctrl.title}}\n        <div class="btn-group pull-right">\n            <a class="btn btn-default btn-xs" ng-click="$ctrl.format($ctrl.myDoc)">\n                <span class="glyphicon glyphicon-indent-left" aria-hidden="true"></span>&nbsp;{{ \'FORMAT\' | translate }}</a>\n        </div>\n    </div>\n\n    <div class="validator">\n\n      <form novalidate>\n          <textarea ng-model="$ctrl.myDoc" ng-change="$ctrl.update($ctrl.myDoc)" class="form-control validator-document document-text"></textarea>\n      </form>\n\n      <validation-messages messages="$ctrl.messages"></validation-messages>\n\n    <div>\n\n</div>\n')}]),e.exports=a},364:function(e,t,a){"use strict";function n(e,t,a,n,i,s,o,l,d,c,u,m,p,f,g,h,v){var y=this;this.parseMarkup=null,this.validateSchema=null,this.validateDocument=null,this.validators={"draft-01":{service:f("draft-01"),name:"draft-01"},"draft-02":{service:f("draft-02"),name:"draft-02"},"draft-03":{service:f("draft-03"),name:"draft-03"},"draft-04":{service:g("draft-04"),name:"draft-04"},"draft-06":{service:g("draft-06"),name:"draft-06"},"draft-07":{service:g("draft-07"),name:"draft-07",label:"draft-07 (latest)"},"v5-unofficial":{name:"v5-unofficial",alerts:[{className:"alert-danger",content_tid:"WARNING_V5_UNOFFICIAL"}],hidden:!0},experimental:{name:"experimental",alerts:[{className:"alert-danger",content_tid:"WARNING_EXPERIMENTAL"}],hidden:!0}},this.validatorsArr=function(){return Object.values(this.validators)},this.markupLanguages={json:{service:m,name:"JSON"},yaml:{service:p,name:"YAML"}},this.about=function(e){return e.preventDefault(),e.stopPropagation(),h.alert({title:'{{ "ABOUT" | translate }}',message:c.get(r),btnClass:"btn-primary",size:"lg"}),!1},this.getDocument=v.getDocument,this.getSchema=v.getSchema,this.reset=v.reset,this.sample=function(e){a.debug("sample",e);var t=this.getCurrentMarkupService();t.then(function(t){n.get("samples/"+e+".document.json").then(function(e){t.prettyPrint(e.data).then(function(e){v.setDocument(e)})}),n.get("samples/"+e+".schema.json").then(function(e){t.prettyPrint(e.data).then(function(e){v.setSchema(e)})})},function(e){h.alert({title:'{{ "ERROR_SAMPLE_LOADING" | translate }}',message:e[0].message,btnClass:"btn-danger"})}),t.then(function(){i.ga("send",{hitType:"event",eventCategory:"Samples",eventAction:"Load",eventLabel:e})},function(e){i.ga("send","exception",{exDescription:"sample-load-error :: "+e[0].message})})},this.loadGist=function(t){this.loadedGistId=t;var n=u.retrieve(t);n.then(function(n){a.info("Retrieved gist",t,n),y.loadedGist=n,v.setSchema(n.schema),v.setDocument(n.document);var r,i,s;r=function(){a.info("Content changed from loaded gist, altering state to allow for this"),o.updateParams({gist:null}),s&&s(),i&&i(),delete y.loadedGist,delete y.loadedGistId},s=e.$watch("$ctrl.getSchema()",function(e){y.loadedGist&&e!==y.loadedGist.schema&&r()}),i=e.$watch("$ctrl.getDocument()",function(e){y.loadedGist&&e!==y.loadedGist.document&&r()})},function(e){a.error(e),h.alert({title:'{{ "ERROR_GIST_LOADING" | translate }}',message:e,btnClass:"btn-danger"})}),n.then(function(){i.ga("send",{hitType:"event",eventCategory:"Gists",eventAction:"Load"})},function(e){i.ga("send","exception",{exDescription:"gist-load-error :: "+e})})},this.saveGist=function(){var e=u.save(v.getSchema(),v.getDocument());e.then(function(e){o.updateParams({gist:e});var t=l.absUrl();h.alert({title:'{{ "GIST_SAVED" | translate }}',message:'<a target="_blank" href="'+t+'">{{ "GIST_VISIT" | translate }}</a>'})},function(e){a.error(e),h.alert({title:'{{ "ERROR_GIST_SAVING" | translate }}',message:e,btnClass:"btn-danger"})}),e.then(function(){i.ga("send",{hitType:"event",eventCategory:"Gists",eventAction:"Save"})},function(e){i.ga("send","exception",{exDescription:"gist-save-error :: "+e})})},this.setSpecVersion=function(e){o.updateParams({specVersion:e})},this.setMarkupLanguage=function(e){o.updateParams({markupLanguage:e})},this._parseMarkup=function(e){return a.debug("_parseMarkup"),this.getCurrentMarkupService().then(function(t){return t.parse(e)})},this._prettyPrint=function(e){return a.debug("_prettyPrint",e),this.getCurrentMarkupService().then(function(t){return t.prettyPrint(e)})},this._validateSchema=function(e){return a.debug("_validateSchema",e),this.getCurrentValidationService().then(function(t){return t.validateSchema(e)})},this._validateDocument=function(e,t){return a.debug("_validateDocument",e,t),e?this.getCurrentValidationService().then(function(a){return a.validate(e,t)}):s.reject([{message_tid:"ERROR_INVALID_SCHEMA"}])},this.getCurrentValidationService=function(){return a.debug("getCurrentValidationService"),this.currentValidator?s.when(this.currentValidator.service):s.reject([{message_tid:"ERROR_INVALID_VERSION",message_params:y.currentParams}])},this.getCurrentMarkupService=function(){return a.debug("getCurrentMarkupService"),this.currentMarkup?s.when(this.currentMarkup.service):s.reject([{message_tid:"ERROR_INVALID_MARKUP",message_params:y.currentParams}])},a.info("Selected JSON Schema version :: "+o.current.params.specVersion),y.currentValidator=y.validators[o.current.params.specVersion],y.validateSchema=angular.bind(y,y._validateSchema),y.validateDocument=angular.bind(y,y._validateDocument,null),a.info("Selected markup language :: "+o.current.params.markupLanguage),y.currentMarkup=y.markupLanguages[o.current.params.markupLanguage],y.parseMarkup=angular.bind(y,y._parseMarkup),y.prettyPrint=angular.bind(y,y._prettyPrint),o.current.params.gist&&y.loadedGistId!=o.current.params.gist&&(a.info("Loading gist :: "+o.current.params.gist,y.loadedGistId),y.loadGist(o.current.params.gist)),this.onUpdateSchemaObj=function(e){a.debug("Schema object changed"),this.validateDocument=angular.bind(this,this._validateDocument,e)},this.onUpdateDocumentString=function(e){a.debug("Document string changed"),v.setDocument(e)},this.onUpdateSchemaString=function(e){a.debug("Schema string changed"),v.setSchema(e)}}n.$inject=["$scope","$rootScope","$log","$http","$window","$q","$route","$location","$uibModal","$templateCache","gist","markupJson","markupYaml","validatorFactoryJSV","validatorFactoryAJV","alertService","textService"];var r=a(365),i=a(366);angular.module("app").component("validatorView",{templateUrl:i,controller:n})},365:function(e,t){var a="dialogs/About.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(a,'<p>JSON Schema Lint is a JSON schema validator to help you write and test <a href="https://github.com/json-schema/json-schema">JSON Schemas</a> that conform with various specification versions.</p>\n<p>The author/maintainer is <a href="https://gravatar.com/nickcmaynard">Nick Maynard</a>. Fork <a href="https://github.com/nickcmaynard/jsonschemalint">this project on Github.</a></p>\n<p>Thanks\n    <ul>\n        <li><a href="https://gist.github.com">Github Gists</a> for saving schemas/documents</li>\n        <li>Gary Court\'s <a href="https://github.com/garycourt/JSV">JSV</a> for validating draft-01, draft-02, draft-03</li>\n        <li>Evgeny Poberezkin\'s <a href="https://github.com/epoberezkin/ajv">Ajv</a> for validating draft-04 and up</li>\n        <li>J&eacute;r&eacute;my Fairve\'s <a href="https://github.com/jeremyfa/yaml.js">yaml.js</a></li>\n    </ul>\n</p>')}]),e.exports=a},366:function(e,t){var a="components/validator-view.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(a,'<div>\n\n    <nav class="navbar navbar-default navbar-fixed-top navbar-collapse">\n        <div class="container-fluid">\n\n            <div class="navbar-header">\n\n                \x3c!-- toggle button --\x3e\n                <button type="button" class="navbar-toggle collapsed" ng-click="isNavExpanded = !isNavExpanded">\n                    <span class="sr-only">{{\'TOGGLE_NAVIGATION\' | translate }}</span>\n                    <span class="icon-bar"></span>\n                    <span class="icon-bar"></span>\n                    <span class="icon-bar"></span>\n                </button>\n\n                <a class="navbar-brand" href="#">JSON Schema Lint</a>\n\n            </div>\n\n            <div class="collapse navbar-collapse" uib-collapse="!isNavExpanded">\n                <ul class="nav navbar-nav">\n\n                    <li><a href="#" ng-click="$ctrl.about($event)">{{ \'ABOUT\' | translate }}</a></li>\n\n                    <div uib-dropdown class="btn-group">\n                        <button uib-dropdown-toggle class="btn btn-default dropdown-toggle navbar-btn" type="button" id="sampleDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">\n                            <span class="glyphicon glyphicon-book"></span>&nbsp;{{ \'SAMPLES\' | translate }}\n                            <span class="caret"></span>\n                        </button>\n                        <ul uib-dropdown-menu class="dropdown-menu" aria-labelledby="sampleDropdown">\n                            <li class="dropdown-header">draft-04</li>\n                            <li role="menuitem"><a ng-click="$ctrl.sample(\'draft4/valid\')" ng-bind-html="\'sample_titles.draft-04-valid\' | translate"></a>\n                            </li>\n                            <li role="menuitem"><a ng-click="$ctrl.sample(\'draft4/invalid\')" ng-bind-html="\'sample_titles.draft-04-invalid\' | translate"></a>\n                            </li>\n                            <li role="separator" class="divider"></li>\n                            <li class="dropdown-header">draft-06</li>\n                            <li role="menuitem"><a ng-click="$ctrl.sample(\'draft6/valid\')" ng-bind-html="\'sample_titles.draft-06-valid\' | translate"></a>\n                            </li>\n                            <li role="menuitem"><a ng-click="$ctrl.sample(\'draft6/invalid\')" ng-bind-html="\'sample_titles.draft-06-invalid\' | translate"></a>\n                            </li>\n                        </ul>\n                    </div>\n\n                    <div class="btn-group navbar-btn" role="group" aria-label="Actions">\n                        <button class="btn btn-default btn-danger" ng-click="$ctrl.reset()">\n                            <span class="glyphicon glyphicon-trash"></span> {{ \'RESET\' | translate }}</button>\n                        <button class="btn btn-default" ng-click="$ctrl.saveGist()" ng-disabled="$ctrl.loadedGist || !$ctrl.getSchema() || !$ctrl.getDocument()">\n                            <span ng-class="{\'glyphicon-save\': !$ctrl.loadedGist, \'glyphicon-saved\': $ctrl.loadedGist}" class="glyphicon"></span> {{ \'SAVE_AS_GIST\' | translate }}</button>\n                    </div>\n                </ul>\n\n                <ul class="nav navbar-nav navbar-right">\n\n                    <div class="btn-group navbar-btn" role="group" aria-label="Mode selection">\n                        <div uib-dropdown class="btn-group" role="group">\n                            <button uib-dropdown-toggle class="btn btn-default dropdown-toggle" type="button" id="languageDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">\n                                <span class="glyphicon glyphicon-pencil"></span>&nbsp;{{ $ctrl.currentMarkup.name || ( \'ERROR_INVALID_MARKUP_BUTTON\' | translate )}}\n                                <span class="caret"></span>\n                            </button>\n                            <ul uib-dropdown-menu class="dropdown-menu" aria-labelledby="languageDropdown">\n                                <li class="dropdown-header">{{ \'MARKUP_LANGUAGE\' | translate:$ctrl.currentValidator }}</li>\n                                <li role="menuitem" ng-repeat="(key, value) in $ctrl.markupLanguages" ng-class="{disabled: $ctrl.markupLanguage==key}">\n                                    <a ng-click="$ctrl.setMarkupLanguage(key)">{{value.name}}</a>\n                                </li>\n                            </ul>\n                        </div>\n\n                        <div uib-dropdown class="btn-group" role="group">\n                            <button uib-dropdown-toggle class="btn btn-default dropdown-toggle" type="button" id="specVersionDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">\n                                <span class="glyphicon glyphicon-road"></span>&nbsp;{{ $ctrl.currentValidator.name || ( \'ERROR_INVALID_VERSION_BUTTON\' | translate ) }}\n                                <span class="caret"></span>\n                            </button>\n                            <ul uib-dropdown-menu class="dropdown-menu" aria-labelledby="specVersionDropdown">\n                                <li class="dropdown-header">{{ \'OFFICIAL_SPEC_VERSION\' | translate:$ctrl.currentValidator }}</li>\n                                <li role="menuitem" ng-repeat="value in $ctrl.validatorsArr() | filter: { hidden: \'!true\' }" ng-class="{disabled: $ctrl.specVersion==value.name}">\n                                    <a ng-click="$ctrl.setSpecVersion(value.name)">{{value.label || value.name}}</a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </ul>\n            </div>\n        </div>\n    </nav>\n\n    <div class="container-fluid" ui-view name="content">\n        <div class="row">\n            <div class="col-xs-12">\n                <div ng-repeat="alert in $ctrl.currentValidator.alerts" uib-alert ng-class="alert.className" ng-bind-html="alert.content_tid | translate"></div>\n            </div>\n        </div>\n\n        <div class="row" ng-if="!$ctrl.currentValidator.hidden">\n\n            <div class="col-xs-12 col-md-6">\n\n                <validator identifier="schema" title="{{ \'SCHEMA\' | translate }} :: {{$ctrl.currentMarkup.name}}, {{$ctrl.currentValidator.name}}" doc="$ctrl.getSchema()" validate="$ctrl.validateSchema" parse="$ctrl.parseMarkup" pretty-print="$ctrl.prettyPrint" success-message="\'SCHEMA_VALID_MESSAGE\' | translate:$ctrl.currentValidator" on-update-doc="$ctrl.onUpdateSchemaString(value)" on-update-obj="$ctrl.onUpdateSchemaObj(value)"></validator>\n\n            </div>\n\n            <div class="col-xs-12 col-md-6">\n\n                <validator identifier="document" title="{{ \'DOCUMENT\' | translate }} :: {{$ctrl.currentMarkup.name}}" doc="$ctrl.getDocument()" validate="$ctrl.validateDocument" parse="$ctrl.parseMarkup" pretty-print="$ctrl.prettyPrint" success-message="\'DOCUMENT_VALID_MESSAGE\' | translate:$ctrl.currentValidator" on-update-doc="$ctrl.onUpdateDocumentString(value)" on-update-validity="$ctrl.onUpdateDocumentValidity(value)"></validator>\n\n            </div>\n\n        </div>\n    </div>\n\n</div>\n')}]),e.exports=a}},[140]);